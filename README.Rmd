---
output: github_document
editor_options: 
  markdown: 
    wrap: 72
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

<img src="man/figures/MS2extractDB.png" align="right" height="250" style="float:right; height:250px;"/>

# MS2extractDB

<!-- badges: start -->

<!-- badges: end -->

`MS2extractDB` is data package that contains raw MS/MS data of authentic
standards. `MS2extractsDB` raw data files and data sets are aimed to 
exemplify the use of 
[MS2extract](https://cooperstonelab.github.io/MS2extract/) to create
in-house metabolite MS/MS libraries. Between
the small molecules we include  phenolic acids,
flavonoids, dihydrochalcones, carbohydrates, between others.
Tandem mass spectrometry data was collected using an Agilent 1290 coupled
with Q-TOF mas analyzer.  

## Installation

You can install the development version of MS2extractDB from
[GitHub](https://github.com/CooperstoneLab/MS2extractDB) with:

``` r
# install.packages("devtools")
devtools::install_github("CooperstoneLab/MS2extractDB")
```

## Database description

This package is intended to archive the raw mzml files of authentic
standards, as well as structured data frame aimed to be used jointly with
[MS2extract](https://cooperstonelab.github.io/MS2extract/) to automate
the process of creating an in-house MS/MS library.

This database contains majorly phenolics compounds, aimed to decipher
and annotate the *Rosacea* metabolome. However, as phenolics are
expressed in a wide range of organisms, this database can be used in
multiples scenarios.

We grouped the total database in two batches. The batches are based
on the instrument we used to acquire the data. For the first
batch, we used an Agilent QTOF *6545*, and for the second batch, we used
an Agilent QTOF *6546*. In both batches, we collected targeted MS/MS,
using the chromatographic method reported in [Bilbrey at al.
(2022)](https://nph.onlinelibrary.wiley.com/doi/full/10.1111/nph.17693).
We collected data in negative and positive polarities,
and we used 20 and 40 eV (CE) using CID. Furthermore, in the second
batch, we also collected data at 60 and 80 eV (CE). The following table
describe what you expect to find in this database.

###  First Batch (Agilent QTOF 6545)

* Positive polarity at 20 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/batch_read_pos20_6545.csv) 
* Positive polarity at 40 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/batch_read_neg40_6545.csv) 
* Negative polarity at 20 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/batch_read_neg20.csv) 
* Negative polarity at 40 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/batch_read_neg40.csv) 

###  Second Batch (Agilent QTOF 6546)

* Negative polarity at 20 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/read_neg20_6546_excel.csv)
* Negative polarity at 40 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/read_neg40_6546_excel.csv)
* Negative polarity at 60 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/read_neg60_6546_excel.csv)
* Negative polarity at 80 eV [(Batch read file)](https://github.com/CooperstoneLab/MS2extractDB/blob/main/inst/extdata/read_neg80_6546_excel.csv)

Positive polarity data collection is in progress


## List of metabolites

In the `extdata` directory, you will find all the `.mzml`
files for all standards, as well as the structure tables to be used
jointly with 
[MS2extract](https://cooperstonelab.github.io/MS2extract/).

In the following table, you can see the list of metabolites we are including
in this version of the database.

> Disclaimer: Metabolites with no reported data file has not MS/MS data

```{r echo=FALSE, message=FALSE, warning=FALSE}

batchRead_Neg20 <- read.csv("inst/extdata/batch_read_neg20.csv") 
batchRead_Neg20 <-   dplyr::mutate(batchRead_Neg20, Batch = "(1) QTOF-6545")
read_neg20_6546 <- read.csv("inst/extdata/read_neg20_6546_excel.csv")
 read_neg20_6546 <-  dplyr::mutate(read_neg20_6546, Batch = "(2) QTOF-6546")
all_std <- dplyr::bind_rows(batchRead_Neg20, read_neg20_6546)  


all_std <- dplyr::select(all_std, -File, -Ionization_mode)
all_std
```

# Citing `MS2extractDB`


To cite `MS2extractDB` in your publications, please use:


```{r "citation"}
## Citation info
citation("MS2extractDB")
```
